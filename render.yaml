services:
  - type: web
    name: skincare-booking-system
    plan: free
    # Thay 'java' bằng 'docker'
    runtime: docker

    # Bạn không cần buildCommand hay startCommand
    # Render sẽ tự động build từ Dockerfile

    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod

      # Database - Cần nhập tay trên Dashboard
      - key: DATABASE_URL
        sync: false
      - key: DATABASE_USERNAME
        sync: false
      - key: DATABASE_PASSWORD
        sync: false

      # Secrets - Cần nhập tay trên Dashboard
      - key: JWT_SECRET
        sync: false
      - key: OPENAI_API_KEY
        sync: false

      # Cung cấp PORT cho file Dockerfile
      # Spring Boot của bạn đã đọc cổng này (server.port=${PORT:8080})
      - key: PORT
        value: 8080
       
